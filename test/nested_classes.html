<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="generator" content="pandoc">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
  <title></title>
  <style type="text/css">code{white-space: pre;}</style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<h2 id="nested-classes">Nested Classes</h2>
<h4 id="summary">Summary</h4>
<ul>
<li>A (kind of awkward) solution for assignment 7’s extra challenge.</li>
<li>A better solution using a normal (not nested) class that implements the Comparable interface.</li>
<li>Another version of the better solution, with a <em>static nested class</em>.</li>
<li>A simple GUI program with a normal (not nested) class extending JPanel.</li>
<li>A second version of the GUI program, with an <em>inner class</em> (a non-static nested class) extending JPanel.</li>
<li>An interactive version of the GUI program, with an <em>inner class</em> extending MouseAdapter.</li>
<li>A fourth version, with an <em>anonymous inner class</em> extending MouseAdapter.</li>
</ul>
<h4 id="assignment-7-extra-challenge">Assignment 7 Extra Challenge</h4>
<p>The extra challenge for assignment 7 (the substitution cipher assignment) was to add to your program the capability of decoding messages encoded with either of the first two encoding schemes. The idea was to use “frequency analysis”: to count how many times each character appears in the encoded text, sort characters from most to least common, and match them up with a ranking based on normal (not encoded text) to figure out which plaintext character each encoded text character represents.</p>
<p>The tricky part is that you needed to sort the encoded text character frequencies in a way that preserves the association between the character and the number of times it occurs. Here’s one way to do it: make an array of Strings, where each element of the array consists of a number and a character, e.g.,</p>
<p><span class="code" style="font-family:monospace;">[&quot;08 A&quot;, &quot;19 B&quot;, &quot;13 C&quot;, &quot;02 D&quot;</span>…</p>
<p>You could then use the <span class="code" style="font-family:monospace;">Arrays.sort</span> method to sort this array, and because of the fact that the numbers come first (and smaller numbers have leading zeros) you end up with the characters in the right order. Here’s a full <span class="code" style="font-family:monospace;">decode</span> method making use of this approach:</p>
<div class="highlight" style="background: #ffffff">
<pre style="font-family:monospace;"><span></span><span style="font-weight: bold">public</span> <span style="font-weight: bold">static</span> String <span style="color: #990000; font-weight: bold">decode</span><span style="font-weight: bold">(</span>String cipherText<span style="font-weight: bold">,</span> <span style="color: #445588; font-weight: bold">char</span><span style="font-weight: bold">[]</span> ranking<span style="font-weight: bold">)</span> <span style="font-weight: bold">{</span>
    
    <span style="color: #999988; font-style: italic">// Make String array with counts and character for each</span>
    <span style="color: #999988; font-style: italic">// count value (e.g., [&quot;14 A&quot;, &quot;04 B&quot;, &quot;03 C&quot;, ...]).</span>
    
    <span style="color: #445588; font-weight: bold">int</span><span style="font-weight: bold">[]</span> counts <span style="font-weight: bold">=</span> countCharacters<span style="font-weight: bold">(</span>cipherText<span style="font-weight: bold">);</span>
    String<span style="font-weight: bold">[]</span> countsWithCharacters <span style="font-weight: bold">=</span> <span style="font-weight: bold">new</span> String<span style="font-weight: bold">[</span><span style="color: #009999">26</span><span style="font-weight: bold">];</span>
    
    <span style="color: #445588; font-weight: bold">int</span> maxCount <span style="font-weight: bold">=</span> <span style="color: #009999">0</span><span style="font-weight: bold">;</span>
    
    <span style="font-weight: bold">for</span> <span style="font-weight: bold">(</span><span style="color: #445588; font-weight: bold">int</span> i <span style="font-weight: bold">:</span> counts<span style="font-weight: bold">)</span> <span style="font-weight: bold">{</span>
        <span style="font-weight: bold">if</span> <span style="font-weight: bold">(</span>i <span style="font-weight: bold">&gt;</span> maxCount<span style="font-weight: bold">)</span> <span style="font-weight: bold">{</span>
            maxCount <span style="font-weight: bold">=</span> i<span style="font-weight: bold">;</span>
        <span style="font-weight: bold">}</span>
    <span style="font-weight: bold">}</span>
    
    <span style="color: #445588; font-weight: bold">int</span> maxDigits <span style="font-weight: bold">=</span> <span style="font-weight: bold">(</span><span style="color: #445588; font-weight: bold">int</span><span style="font-weight: bold">)</span> Math<span style="font-weight: bold">.</span><span style="color: #008080">log10</span><span style="font-weight: bold">(</span>maxCount<span style="font-weight: bold">)</span> <span style="font-weight: bold">+</span> <span style="color: #009999">1</span><span style="font-weight: bold">;</span>
    String formatString <span style="font-weight: bold">=</span> String<span style="font-weight: bold">.</span><span style="color: #008080">format</span><span style="font-weight: bold">(</span>
            <span style="color: #bb8844">&quot;%%0%dd %%c&quot;</span><span style="font-weight: bold">,</span>  <span style="color: #999988; font-style: italic">// %% for literal % sign in String.</span>
            maxDigits<span style="font-weight: bold">);</span>
    
    <span style="font-weight: bold">for</span> <span style="font-weight: bold">(</span><span style="color: #445588; font-weight: bold">int</span> i <span style="font-weight: bold">=</span> <span style="color: #009999">0</span><span style="font-weight: bold">;</span> i <span style="font-weight: bold">&lt;</span> <span style="color: #009999">26</span><span style="font-weight: bold">;</span> i<span style="font-weight: bold">++)</span> <span style="font-weight: bold">{</span>
        countsWithCharacters<span style="font-weight: bold">[</span>i<span style="font-weight: bold">]</span> <span style="font-weight: bold">=</span> String<span style="font-weight: bold">.</span><span style="color: #008080">format</span><span style="font-weight: bold">(</span>formatString<span style="font-weight: bold">,</span>
                counts<span style="font-weight: bold">[</span>i<span style="font-weight: bold">],</span> <span style="font-weight: bold">(</span><span style="color: #445588; font-weight: bold">char</span><span style="font-weight: bold">)</span> <span style="font-weight: bold">(</span>i <span style="font-weight: bold">+</span> <span style="color: #bb8844">&#39;A&#39;</span><span style="font-weight: bold">));</span>
    <span style="font-weight: bold">}</span>
    
    <span style="color: #999988; font-style: italic">// Sort counts, keeping associated character with count,</span>
    <span style="color: #999988; font-style: italic">// since it&#39;s part of the same String.  Then strip counts</span>
    <span style="color: #999988; font-style: italic">// to get an array of chars representing the ranking of</span>
    <span style="color: #999988; font-style: italic">// characters for cipherText input.  Ranking order should be</span>
    <span style="color: #999988; font-style: italic">// opposite sort order (highest to lowest rather than lowest</span>
    <span style="color: #999988; font-style: italic">// to highest).</span>
    
    Arrays<span style="font-weight: bold">.</span><span style="color: #008080">sort</span><span style="font-weight: bold">(</span>countsWithCharacters<span style="font-weight: bold">);</span>
    <span style="color: #445588; font-weight: bold">char</span><span style="font-weight: bold">[]</span> cipherTextRanking <span style="font-weight: bold">=</span> <span style="font-weight: bold">new</span> <span style="color: #445588; font-weight: bold">char</span><span style="font-weight: bold">[</span><span style="color: #009999">26</span><span style="font-weight: bold">];</span>
    
    <span style="font-weight: bold">for</span> <span style="font-weight: bold">(</span><span style="color: #445588; font-weight: bold">int</span> i <span style="font-weight: bold">=</span> <span style="color: #009999">0</span><span style="font-weight: bold">;</span> i <span style="font-weight: bold">&lt;</span> <span style="color: #009999">26</span><span style="font-weight: bold">;</span> i<span style="font-weight: bold">++)</span> <span style="font-weight: bold">{</span>
        <span style="color: #445588; font-weight: bold">char</span> c <span style="font-weight: bold">=</span> countsWithCharacters<span style="font-weight: bold">[</span><span style="color: #009999">25</span> <span style="font-weight: bold">-</span> i<span style="font-weight: bold">].</span><span style="color: #008080">charAt</span><span style="font-weight: bold">(</span>
                maxDigits <span style="font-weight: bold">+</span> <span style="color: #009999">1</span><span style="font-weight: bold">);</span>
        cipherTextRanking<span style="font-weight: bold">[</span>i<span style="font-weight: bold">]</span> <span style="font-weight: bold">=</span> c<span style="font-weight: bold">;</span>
    <span style="font-weight: bold">}</span>
    
    <span style="color: #999988; font-style: italic">// Make substitution alphabet based on matching up</span>
    <span style="color: #999988; font-style: italic">// cipherText character ranking and supplied ranking</span>
    <span style="color: #999988; font-style: italic">// (second parameter above).</span>
    
    <span style="color: #445588; font-weight: bold">char</span><span style="font-weight: bold">[]</span> alphabet <span style="font-weight: bold">=</span> <span style="font-weight: bold">new</span> <span style="color: #445588; font-weight: bold">char</span><span style="font-weight: bold">[</span><span style="color: #009999">26</span><span style="font-weight: bold">];</span>
    
    <span style="font-weight: bold">for</span> <span style="font-weight: bold">(</span><span style="color: #445588; font-weight: bold">int</span> i <span style="font-weight: bold">=</span> <span style="color: #009999">0</span><span style="font-weight: bold">;</span> i <span style="font-weight: bold">&lt;</span> <span style="color: #009999">26</span><span style="font-weight: bold">;</span> i<span style="font-weight: bold">++)</span> <span style="font-weight: bold">{</span>
        alphabet<span style="font-weight: bold">[</span>cipherTextRanking<span style="font-weight: bold">[</span>i<span style="font-weight: bold">]</span> <span style="font-weight: bold">-</span> <span style="color: #bb8844">&#39;A&#39;</span><span style="font-weight: bold">]</span> <span style="font-weight: bold">=</span> ranking<span style="font-weight: bold">[</span>i<span style="font-weight: bold">];</span>
    <span style="font-weight: bold">}</span>
    
    <span style="color: #999988; font-style: italic">// Use substitution alphabet to decode String.</span>
    
    <span style="color: #445588; font-weight: bold">char</span><span style="font-weight: bold">[]</span> characters <span style="font-weight: bold">=</span> cipherText<span style="font-weight: bold">.</span><span style="color: #008080">toCharArray</span><span style="font-weight: bold">();</span>

    <span style="font-weight: bold">for</span> <span style="font-weight: bold">(</span><span style="color: #445588; font-weight: bold">int</span> i <span style="font-weight: bold">=</span> <span style="color: #009999">0</span><span style="font-weight: bold">;</span> i <span style="font-weight: bold">&lt;</span> characters<span style="font-weight: bold">.</span><span style="color: #008080">length</span><span style="font-weight: bold">;</span> i<span style="font-weight: bold">++)</span> <span style="font-weight: bold">{</span>
        <span style="font-weight: bold">if</span> <span style="font-weight: bold">(</span>characters<span style="font-weight: bold">[</span>i<span style="font-weight: bold">]</span> <span style="font-weight: bold">&gt;=</span> <span style="color: #bb8844">&#39;A&#39;</span> <span style="font-weight: bold">&amp;&amp;</span> characters<span style="font-weight: bold">[</span>i<span style="font-weight: bold">]</span> <span style="font-weight: bold">&lt;=</span> <span style="color: #bb8844">&#39;Z&#39;</span><span style="font-weight: bold">)</span> <span style="font-weight: bold">{</span>
            <span style="color: #445588; font-weight: bold">int</span> j <span style="font-weight: bold">=</span> characters<span style="font-weight: bold">[</span>i<span style="font-weight: bold">]</span> <span style="font-weight: bold">-</span> <span style="color: #bb8844">&#39;A&#39;</span><span style="font-weight: bold">;</span>
            characters<span style="font-weight: bold">[</span>i<span style="font-weight: bold">]</span> <span style="font-weight: bold">=</span> alphabet<span style="font-weight: bold">[</span>j<span style="font-weight: bold">];</span>
        <span style="font-weight: bold">}</span>
    <span style="font-weight: bold">}</span>

    <span style="font-weight: bold">return</span> String<span style="font-weight: bold">.</span><span style="color: #008080">valueOf</span><span style="font-weight: bold">(</span>characters<span style="font-weight: bold">);</span>
<span style="font-weight: bold">}</span>
</pre>
</div>
<p>That’s one way to do it, but there’s a more elegant way to solve a problem like this in Java. You can define a class with a <span class="code" style="font-family:monospace;">compareTo</span> method in which you specify what it means for one instance of the class to “come before” another, and then <span class="code" style="font-family:monospace;">Arrays.sort</span> can be used to sort an array of instances based on your <span class="code" style="font-family:monospace;">compareTo</span> method. Here’s a class to associate an <span class="code" style="font-family:monospace;">int</span> and a <span class="code" style="font-family:monospace;">char</span>, with a <span class="code" style="font-family:monospace;">compareTo</span> method written so that if you sort an array of instances they’ll go from the one with the highest <span class="code" style="font-family:monospace;">int</span> value to the one with the lowest.</p>
<div class="highlight" style="background: #ffffff">
<pre style="font-family:monospace;"><span></span><span style="font-weight: bold">public</span> <span style="font-weight: bold">class</span> <span style="color: #445588; font-weight: bold">CountAndCharacter</span>
        <span style="font-weight: bold">implements</span> Comparable<span style="font-weight: bold">&lt;</span>CountAndCharacter<span style="font-weight: bold">&gt;</span> <span style="font-weight: bold">{</span>
    <span style="font-weight: bold">private</span> <span style="color: #445588; font-weight: bold">int</span> count<span style="font-weight: bold">;</span>
    <span style="font-weight: bold">private</span> <span style="color: #445588; font-weight: bold">char</span> character<span style="font-weight: bold">;</span>

    <span style="font-weight: bold">public</span> <span style="color: #990000; font-weight: bold">CountAndCharacter</span><span style="font-weight: bold">(</span><span style="color: #445588; font-weight: bold">int</span> count<span style="font-weight: bold">,</span> <span style="color: #445588; font-weight: bold">char</span> character<span style="font-weight: bold">)</span> <span style="font-weight: bold">{</span>
        <span style="font-weight: bold">this.</span><span style="color: #008080">count</span> <span style="font-weight: bold">=</span> count<span style="font-weight: bold">;</span>
        <span style="font-weight: bold">this.</span><span style="color: #008080">character</span> <span style="font-weight: bold">=</span> character<span style="font-weight: bold">;</span>
    <span style="font-weight: bold">}</span>

    @Override
    <span style="font-weight: bold">public</span> <span style="color: #445588; font-weight: bold">int</span> <span style="color: #990000; font-weight: bold">compareTo</span><span style="font-weight: bold">(</span>CountAndCharacter that<span style="font-weight: bold">)</span> <span style="font-weight: bold">{</span>
        <span style="font-weight: bold">return</span> <span style="font-weight: bold">-</span>Integer<span style="font-weight: bold">.</span><span style="color: #008080">compare</span><span style="font-weight: bold">(this.</span><span style="color: #008080">count</span><span style="font-weight: bold">,</span> that<span style="font-weight: bold">.</span><span style="color: #008080">count</span><span style="font-weight: bold">);</span>
    <span style="font-weight: bold">}</span>
<span style="font-weight: bold">}</span>
</pre>
</div>
<p>Notice the minus sign in the <span class="code" style="font-family:monospace;">return</span> statement at the end. That’s what makes CountAndCharacter objects sort from highest (<span class="code" style="font-family:monospace;">count</span>) to lowest rather than lowest to highest.</p>
<p>This is a short and oddly-named class, one that wouldn’t really make sense except in this particular program, where it’s just the thing we need. Do we really have to put it in its own file? No. We can define it inside of the class that uses it, so that it’s only accessible within that class:</p>
<div class="highlight" style="background: #ffffff">
<pre style="font-family:monospace;"><span></span><span style="font-weight: bold">public</span> <span style="font-weight: bold">class</span> <span style="color: #445588; font-weight: bold">SubstitutionCipher</span> <span style="font-weight: bold">{</span>

 <span style="font-weight: bold">...</span><span style="color: #008080">private</span> <span style="font-weight: bold">static</span> <span style="font-weight: bold">class</span> <span style="color: #445588; font-weight: bold">CountAndCharacter</span>
            <span style="font-weight: bold">implements</span> Comparable<span style="font-weight: bold">&lt;</span>CountAndCharacter<span style="font-weight: bold">&gt;</span> <span style="font-weight: bold">{</span>
        <span style="font-weight: bold">private</span> <span style="color: #445588; font-weight: bold">int</span> count<span style="font-weight: bold">;</span>
        <span style="font-weight: bold">private</span> <span style="color: #445588; font-weight: bold">char</span> character<span style="font-weight: bold">;</span>

        <span style="font-weight: bold">public</span> <span style="color: #990000; font-weight: bold">CountAndCharacter</span><span style="font-weight: bold">(</span><span style="color: #445588; font-weight: bold">int</span> count<span style="font-weight: bold">,</span> <span style="color: #445588; font-weight: bold">char</span> character<span style="font-weight: bold">)</span> <span style="font-weight: bold">{</span>
            <span style="font-weight: bold">this.</span><span style="color: #008080">count</span> <span style="font-weight: bold">=</span> count<span style="font-weight: bold">;</span>
            <span style="font-weight: bold">this.</span><span style="color: #008080">character</span> <span style="font-weight: bold">=</span> character<span style="font-weight: bold">;</span>
        <span style="font-weight: bold">}</span>

        @Override
        <span style="font-weight: bold">public</span> <span style="color: #445588; font-weight: bold">int</span> <span style="color: #990000; font-weight: bold">compareTo</span><span style="font-weight: bold">(</span>CountAndCharacter that<span style="font-weight: bold">)</span> <span style="font-weight: bold">{</span>
            <span style="font-weight: bold">return</span> <span style="font-weight: bold">-</span>Integer<span style="font-weight: bold">.</span><span style="color: #008080">compare</span><span style="font-weight: bold">(this.</span><span style="color: #008080">count</span><span style="font-weight: bold">,</span> that<span style="font-weight: bold">.</span><span style="color: #008080">count</span><span style="font-weight: bold">);</span>
        <span style="font-weight: bold">}</span>
    <span style="font-weight: bold">}</span>

    <span style="font-weight: bold">public</span> <span style="font-weight: bold">static</span> String <span style="color: #990000; font-weight: bold">decode</span><span style="font-weight: bold">(</span>String cipherText<span style="font-weight: bold">,</span> <span style="color: #445588; font-weight: bold">char</span><span style="font-weight: bold">[]</span> ranking<span style="font-weight: bold">)</span> <span style="font-weight: bold">{</span>
        
        <span style="color: #999988; font-style: italic">// Create array of CountAndCharacter objects; each element</span>
        <span style="color: #999988; font-style: italic">// associates a character with the number of times it</span>
        <span style="color: #999988; font-style: italic">// appears in cipherText.  Sort the array (from highest</span>
        <span style="color: #999988; font-style: italic">// count to lowest count, since that&#39;s the way</span>
        <span style="color: #999988; font-style: italic">// CountAndCharacter&#39;s compare method is written).</span>
        
        <span style="color: #445588; font-weight: bold">int</span><span style="font-weight: bold">[]</span> counts <span style="font-weight: bold">=</span> countCharacters<span style="font-weight: bold">(</span>cipherText<span style="font-weight: bold">);</span>
        CountAndCharacter<span style="font-weight: bold">[]</span> countsWithCharacters <span style="font-weight: bold">=</span>
                <span style="font-weight: bold">new</span> CountAndCharacter<span style="font-weight: bold">[</span><span style="color: #009999">26</span><span style="font-weight: bold">];</span>

        <span style="font-weight: bold">for</span> <span style="font-weight: bold">(</span><span style="color: #445588; font-weight: bold">int</span> i <span style="font-weight: bold">=</span> <span style="color: #009999">0</span><span style="font-weight: bold">;</span> i <span style="font-weight: bold">&lt;</span> <span style="color: #009999">26</span><span style="font-weight: bold">;</span> i<span style="font-weight: bold">++)</span> <span style="font-weight: bold">{</span>
            countsWithCharacters<span style="font-weight: bold">[</span>i<span style="font-weight: bold">]</span> <span style="font-weight: bold">=</span> <span style="font-weight: bold">new</span> CountAndCharacter<span style="font-weight: bold">(</span>
                    counts<span style="font-weight: bold">[</span>i<span style="font-weight: bold">],</span> <span style="font-weight: bold">(</span><span style="color: #445588; font-weight: bold">char</span><span style="font-weight: bold">)</span> <span style="font-weight: bold">(</span>i <span style="font-weight: bold">+</span> <span style="color: #bb8844">&#39;A&#39;</span><span style="font-weight: bold">));</span>
        <span style="font-weight: bold">}</span>

        Arrays<span style="font-weight: bold">.</span><span style="color: #008080">sort</span><span style="font-weight: bold">(</span>countsWithCharacters<span style="font-weight: bold">);</span>

        <span style="color: #999988; font-style: italic">// Make substitution alphabet based on matching up</span>
        <span style="color: #999988; font-style: italic">// cipherText character ranking and supplied ranking</span>
        <span style="color: #999988; font-style: italic">// (second parameter above).</span>

        <span style="color: #445588; font-weight: bold">char</span><span style="font-weight: bold">[]</span> alphabet <span style="font-weight: bold">=</span> <span style="font-weight: bold">new</span> <span style="color: #445588; font-weight: bold">char</span><span style="font-weight: bold">[</span><span style="color: #009999">26</span><span style="font-weight: bold">];</span>

        <span style="font-weight: bold">for</span> <span style="font-weight: bold">(</span><span style="color: #445588; font-weight: bold">int</span> i <span style="font-weight: bold">=</span> <span style="color: #009999">0</span><span style="font-weight: bold">;</span> i <span style="font-weight: bold">&lt;</span> <span style="color: #009999">26</span><span style="font-weight: bold">;</span> i<span style="font-weight: bold">++)</span> <span style="font-weight: bold">{</span>
            <span style="color: #445588; font-weight: bold">int</span> j <span style="font-weight: bold">=</span> countsWithCharacters<span style="font-weight: bold">[</span>i<span style="font-weight: bold">].</span><span style="color: #008080">character</span> <span style="font-weight: bold">-</span> <span style="color: #bb8844">&#39;A&#39;</span><span style="font-weight: bold">;</span>
            alphabet<span style="font-weight: bold">[</span>j<span style="font-weight: bold">]</span> <span style="font-weight: bold">=</span> ranking<span style="font-weight: bold">[</span>i<span style="font-weight: bold">];</span>
        <span style="font-weight: bold">}</span>

        <span style="color: #999988; font-style: italic">// Use substitution alphabet to decode String...</span>
</pre>
</div>
<p>Because CountAndCharacter is <span class="code" style="font-family:monospace;">private</span>, it’s only accessible within the SubstitutionCipher class. Other than that it’s defined and used just like a normal (not nested) class would be. (Notice that CountAndCharacter is also <span class="code" style="font-family:monospace;">static</span>. This means it won’t be associated with any particular instance of SubstitutionCipher, just as a normal class defined in its own file would not be.)</p>
<h4 id="a-simple-gui-program">A Simple GUI Program</h4>
<p>Here’s a class that extends JPanel, to be used in a simple GUI program.</p>
<div class="highlight" style="background: #ffffff">
<pre style="font-family:monospace;"><span></span><span style="font-weight: bold">public</span> <span style="font-weight: bold">class</span> <span style="color: #445588; font-weight: bold">FancyPanel</span> <span style="font-weight: bold">extends</span> JPanel <span style="font-weight: bold">{</span>
    <span style="font-weight: bold">private</span> Color color<span style="font-weight: bold">;</span>
    <span style="font-weight: bold">private</span> <span style="color: #445588; font-weight: bold">int</span> numBoxes<span style="font-weight: bold">;</span>
    <span style="font-weight: bold">private</span> <span style="color: #445588; font-weight: bold">int</span> width<span style="font-weight: bold">;</span>
    <span style="font-weight: bold">private</span> <span style="color: #445588; font-weight: bold">int</span> height<span style="font-weight: bold">;</span>
    
    <span style="font-weight: bold">public</span> <span style="color: #990000; font-weight: bold">FancyPanel</span><span style="font-weight: bold">(</span>Color color<span style="font-weight: bold">,</span> <span style="color: #445588; font-weight: bold">int</span> numBoxes<span style="font-weight: bold">,</span>
            <span style="color: #445588; font-weight: bold">int</span> width<span style="font-weight: bold">,</span> <span style="color: #445588; font-weight: bold">int</span> height<span style="font-weight: bold">)</span> <span style="font-weight: bold">{</span>
        <span style="font-weight: bold">this.</span><span style="color: #008080">color</span> <span style="font-weight: bold">=</span> color<span style="font-weight: bold">;</span>
        <span style="font-weight: bold">this.</span><span style="color: #008080">numBoxes</span> <span style="font-weight: bold">=</span> numBoxes<span style="font-weight: bold">;</span>
        <span style="font-weight: bold">this.</span><span style="color: #008080">width</span> <span style="font-weight: bold">=</span> width<span style="font-weight: bold">;</span>
        <span style="font-weight: bold">this.</span><span style="color: #008080">height</span> <span style="font-weight: bold">=</span> height<span style="font-weight: bold">;</span>
        setPreferredSize<span style="font-weight: bold">(new</span> Dimension<span style="font-weight: bold">(</span>width<span style="font-weight: bold">,</span> height<span style="font-weight: bold">));</span>
    <span style="font-weight: bold">}</span>
    
    @Override
    <span style="font-weight: bold">public</span> <span style="color: #445588; font-weight: bold">void</span> <span style="color: #990000; font-weight: bold">paint</span><span style="font-weight: bold">(</span>Graphics g<span style="font-weight: bold">)</span> <span style="font-weight: bold">{</span>
        <span style="color: #445588; font-weight: bold">int</span> w <span style="font-weight: bold">=</span> width <span style="font-weight: bold">/</span> numBoxes<span style="font-weight: bold">;</span>
        <span style="color: #445588; font-weight: bold">int</span> h <span style="font-weight: bold">=</span> height <span style="font-weight: bold">/</span> numBoxes<span style="font-weight: bold">;</span>
        Color c <span style="font-weight: bold">=</span> color<span style="font-weight: bold">;</span>
        
        <span style="font-weight: bold">for</span> <span style="font-weight: bold">(</span><span style="color: #445588; font-weight: bold">int</span> i <span style="font-weight: bold">=</span> <span style="color: #009999">0</span><span style="font-weight: bold">;</span> i <span style="font-weight: bold">&lt;</span> numBoxes<span style="font-weight: bold">;</span> i<span style="font-weight: bold">++)</span> <span style="font-weight: bold">{</span>
            g<span style="font-weight: bold">.</span><span style="color: #008080">setColor</span><span style="font-weight: bold">(</span>c<span style="font-weight: bold">);</span>
            g<span style="font-weight: bold">.</span><span style="color: #008080">fillRect</span><span style="font-weight: bold">(</span>w <span style="font-weight: bold">/</span> <span style="color: #009999">2</span> <span style="font-weight: bold">*</span> i<span style="font-weight: bold">,</span> h <span style="font-weight: bold">/</span> <span style="color: #009999">2</span> <span style="font-weight: bold">*</span> i<span style="font-weight: bold">,</span>
                    width <span style="font-weight: bold">-</span> w <span style="font-weight: bold">*</span> i<span style="font-weight: bold">,</span> height <span style="font-weight: bold">-</span> h <span style="font-weight: bold">*</span> i<span style="font-weight: bold">);</span>
            c <span style="font-weight: bold">=</span> c<span style="font-weight: bold">.</span><span style="color: #008080">brighter</span><span style="font-weight: bold">();</span>
        <span style="font-weight: bold">}</span>
    <span style="font-weight: bold">}</span>
<span style="font-weight: bold">}</span>
</pre>
</div>
<p>To understand this code, you need to know when <span class="code" style="font-family:monospace;">paint</span> is called. It’s called any time the JVM determines that the window display needs to be refreshed. For example, if another window is moved in front of this program’s window, and then moved away; or if this window is minimized and restored; etc. So whatever we put in <span class="code" style="font-family:monospace;">paint</span> (in our version, which overrides the default version defined in JPanel) will happen any time the window display is (re)drawn. The version of <span class="code" style="font-family:monospace;">paint</span> above draws a series of ever smaller and brighter rectangles centered in the window.</p>
<p>A class like FancyPanel would typically be nested inside a class extending JFrame, not just because FancyPanel is short and not likely to be useful in other programs, but because it can be defined in such a way that it has access to the enclosing class’s fields. This eliminates the need for FancyPanel to have fields with copies of values that are likely stored in the enclosing class’s fields anyway. And it shortens the code, since we don’t need to copy values in the constructor. Here’s the new version of FancyPanel, within an enclosing class that extends JFrame, FancyFrame.</p>
<div class="highlight" style="background: #ffffff">
<pre style="font-family:monospace;"><span></span><span style="font-weight: bold">import</span> <span style="color: #555555">java.awt.Color</span><span style="font-weight: bold">;</span>
<span style="font-weight: bold">import</span> <span style="color: #555555">java.awt.Dimension</span><span style="font-weight: bold">;</span>
<span style="font-weight: bold">import</span> <span style="color: #555555">java.awt.Graphics</span><span style="font-weight: bold">;</span>

<span style="font-weight: bold">import</span> <span style="color: #555555">javax.swing.JFrame</span><span style="font-weight: bold">;</span>
<span style="font-weight: bold">import</span> <span style="color: #555555">javax.swing.JPanel</span><span style="font-weight: bold">;</span>

@SuppressWarnings<span style="font-weight: bold">(</span><span style="color: #bb8844">&quot;serial&quot;</span><span style="font-weight: bold">)</span>
<span style="font-weight: bold">public</span> <span style="font-weight: bold">class</span> <span style="color: #445588; font-weight: bold">FancyFrame</span> <span style="font-weight: bold">extends</span> JFrame <span style="font-weight: bold">{</span>
    
    <span style="font-weight: bold">private</span> <span style="font-weight: bold">final</span> <span style="color: #445588; font-weight: bold">int</span> width<span style="font-weight: bold">;</span>
    <span style="font-weight: bold">private</span> <span style="font-weight: bold">final</span> <span style="color: #445588; font-weight: bold">int</span> height<span style="font-weight: bold">;</span>
    <span style="font-weight: bold">private</span> <span style="font-weight: bold">final</span> Color color<span style="font-weight: bold">;</span>
    <span style="font-weight: bold">private</span> <span style="font-weight: bold">final</span> <span style="color: #445588; font-weight: bold">int</span> numBoxes<span style="font-weight: bold">;</span>

    <span style="font-weight: bold">public</span> <span style="color: #990000; font-weight: bold">FancyFrame</span><span style="font-weight: bold">(</span>String title<span style="font-weight: bold">,</span> <span style="color: #445588; font-weight: bold">int</span> width<span style="font-weight: bold">,</span> <span style="color: #445588; font-weight: bold">int</span> height<span style="font-weight: bold">,</span>
            Color color<span style="font-weight: bold">,</span> <span style="color: #445588; font-weight: bold">int</span> numBoxes<span style="font-weight: bold">)</span> <span style="font-weight: bold">{</span>
        <span style="font-weight: bold">super(</span>title<span style="font-weight: bold">);</span>
        
        <span style="font-weight: bold">this.</span><span style="color: #008080">width</span> <span style="font-weight: bold">=</span> width<span style="font-weight: bold">;</span>
        <span style="font-weight: bold">this.</span><span style="color: #008080">height</span> <span style="font-weight: bold">=</span> height<span style="font-weight: bold">;</span>
        <span style="font-weight: bold">this.</span><span style="color: #008080">color</span> <span style="font-weight: bold">=</span> color<span style="font-weight: bold">;</span>
        <span style="font-weight: bold">this.</span><span style="color: #008080">numBoxes</span> <span style="font-weight: bold">=</span> numBoxes<span style="font-weight: bold">;</span>
        
        setDefaultCloseOperation<span style="font-weight: bold">(</span>EXIT_ON_CLOSE<span style="font-weight: bold">);</span>
        add<span style="font-weight: bold">(new</span> FancyPanel<span style="font-weight: bold">());</span>
        pack<span style="font-weight: bold">();</span>
        setVisible<span style="font-weight: bold">(true);</span>
    <span style="font-weight: bold">}</span>
    
    <span style="font-weight: bold">private</span> <span style="font-weight: bold">class</span> <span style="color: #445588; font-weight: bold">FancyPanel</span> <span style="font-weight: bold">extends</span> JPanel <span style="font-weight: bold">{</span>
        
        <span style="font-weight: bold">public</span> <span style="color: #990000; font-weight: bold">FancyPanel</span><span style="font-weight: bold">()</span> <span style="font-weight: bold">{</span>
            setPreferredSize<span style="font-weight: bold">(new</span> Dimension<span style="font-weight: bold">(</span>width<span style="font-weight: bold">,</span> height<span style="font-weight: bold">));</span>
        <span style="font-weight: bold">}</span>
        
        @Override
        <span style="font-weight: bold">public</span> <span style="color: #445588; font-weight: bold">void</span> <span style="color: #990000; font-weight: bold">paint</span><span style="font-weight: bold">(</span>Graphics g<span style="font-weight: bold">)</span> <span style="font-weight: bold">{</span>
            <span style="color: #445588; font-weight: bold">int</span> w <span style="font-weight: bold">=</span> width <span style="font-weight: bold">/</span> numBoxes<span style="font-weight: bold">;</span>
            <span style="color: #445588; font-weight: bold">int</span> h <span style="font-weight: bold">=</span> height <span style="font-weight: bold">/</span> numBoxes<span style="font-weight: bold">;</span>
            Color c <span style="font-weight: bold">=</span> color<span style="font-weight: bold">;</span>
            
            <span style="font-weight: bold">for</span> <span style="font-weight: bold">(</span><span style="color: #445588; font-weight: bold">int</span> i <span style="font-weight: bold">=</span> <span style="color: #009999">0</span><span style="font-weight: bold">;</span> i <span style="font-weight: bold">&lt;</span> numBoxes<span style="font-weight: bold">;</span> i<span style="font-weight: bold">++)</span> <span style="font-weight: bold">{</span>
                g<span style="font-weight: bold">.</span><span style="color: #008080">setColor</span><span style="font-weight: bold">(</span>c<span style="font-weight: bold">);</span>
                g<span style="font-weight: bold">.</span><span style="color: #008080">fillRect</span><span style="font-weight: bold">(</span>w  <span style="font-weight: bold">/</span> <span style="color: #009999">2</span> <span style="font-weight: bold">*</span> i<span style="font-weight: bold">,</span> h <span style="font-weight: bold">/</span> <span style="color: #009999">2</span> <span style="font-weight: bold">*</span> i<span style="font-weight: bold">,</span>
                        width <span style="font-weight: bold">-</span> w <span style="font-weight: bold">*</span> i<span style="font-weight: bold">,</span> height <span style="font-weight: bold">-</span> h <span style="font-weight: bold">*</span> i<span style="font-weight: bold">);</span>
                c <span style="font-weight: bold">=</span> c<span style="font-weight: bold">.</span><span style="color: #008080">brighter</span><span style="font-weight: bold">();</span>
            <span style="font-weight: bold">}</span>
        <span style="font-weight: bold">}</span>
    <span style="font-weight: bold">}</span>
    
    <span style="font-weight: bold">public</span> <span style="font-weight: bold">static</span> <span style="color: #445588; font-weight: bold">void</span> <span style="color: #990000; font-weight: bold">main</span><span style="font-weight: bold">(</span>String<span style="font-weight: bold">[]</span> args<span style="font-weight: bold">)</span> <span style="font-weight: bold">{</span>
        <span style="font-weight: bold">new</span> FancyFrame<span style="font-weight: bold">(</span><span style="color: #bb8844">&quot;Fancy!&quot;</span><span style="font-weight: bold">,</span> <span style="color: #009999">320</span><span style="font-weight: bold">,</span> <span style="color: #009999">240</span><span style="font-weight: bold">,</span>
                <span style="font-weight: bold">new</span> Color<span style="font-weight: bold">(</span><span style="color: #009999">25</span><span style="font-weight: bold">,</span> <span style="color: #009999">50</span><span style="font-weight: bold">,</span> <span style="color: #009999">75</span><span style="font-weight: bold">),</span> <span style="color: #009999">7</span><span style="font-weight: bold">);</span>
    <span style="font-weight: bold">}</span>
<span style="font-weight: bold">}</span>
</pre>
</div>
<p>Notice that this time the nested class is <em>not</em> <span class="code" style="font-family:monospace;">static</span>. This means that, unlike the <span class="code" style="font-family:monospace;">static</span> nested class in the SubstitutionCipher example above, code within FancyPanel is associated with a specific instance of FancyFrame and has access to FancyFrame’s fields. A non-<span class="code" style="font-family:monospace;">static</span> nested class, like FancyPanel, is also called an “inner class.”</p>
<h4 id="an-interactive-gui-program">An Interactive GUI Program</h4>
<p>Here’s a new version of FancyFrame, this time with an additional inner class extending MouseAdapter. Just like FancyPanel, MousePresser is not <span class="code" style="font-family:monospace;">static</span>. So it has access to FancyFrame’s <span class="code" style="font-family:monospace;">mousePressed</span> field, which is used to determine whether the <span class="code" style="font-family:monospace;">paint</span> method’s rectangles get successively brighter or darker.</p>
<div class="highlight" style="background: #ffffff">
<pre style="font-family:monospace;"><span></span><span style="font-weight: bold">import</span> <span style="color: #555555">java.awt.Color</span><span style="font-weight: bold">;</span>
<span style="font-weight: bold">import</span> <span style="color: #555555">java.awt.Dimension</span><span style="font-weight: bold">;</span>
<span style="font-weight: bold">import</span> <span style="color: #555555">java.awt.Graphics</span><span style="font-weight: bold">;</span>
<span style="font-weight: bold">import</span> <span style="color: #555555">java.awt.event.MouseAdapter</span><span style="font-weight: bold">;</span>
<span style="font-weight: bold">import</span> <span style="color: #555555">java.awt.event.MouseEvent</span><span style="font-weight: bold">;</span>

<span style="font-weight: bold">import</span> <span style="color: #555555">javax.swing.JFrame</span><span style="font-weight: bold">;</span>
<span style="font-weight: bold">import</span> <span style="color: #555555">javax.swing.JPanel</span><span style="font-weight: bold">;</span>

@SuppressWarnings<span style="font-weight: bold">(</span><span style="color: #bb8844">&quot;serial&quot;</span><span style="font-weight: bold">)</span>
<span style="font-weight: bold">public</span> <span style="font-weight: bold">class</span> <span style="color: #445588; font-weight: bold">FancyFrame</span> <span style="font-weight: bold">extends</span> JFrame <span style="font-weight: bold">{</span>
     
    <span style="font-weight: bold">private</span> <span style="font-weight: bold">final</span> <span style="color: #445588; font-weight: bold">int</span> width<span style="font-weight: bold">;</span>
    <span style="font-weight: bold">private</span> <span style="font-weight: bold">final</span> <span style="color: #445588; font-weight: bold">int</span> height<span style="font-weight: bold">;</span>
    <span style="font-weight: bold">private</span> <span style="font-weight: bold">final</span> Color color<span style="font-weight: bold">;</span>
    <span style="font-weight: bold">private</span> <span style="font-weight: bold">final</span> <span style="color: #445588; font-weight: bold">int</span> numBoxes<span style="font-weight: bold">;</span>
    
    <span style="font-weight: bold">private</span> <span style="color: #445588; font-weight: bold">boolean</span> mousePressed<span style="font-weight: bold">;</span>

    <span style="font-weight: bold">public</span> <span style="color: #990000; font-weight: bold">FancyFrame</span><span style="font-weight: bold">(</span>String title<span style="font-weight: bold">,</span> <span style="color: #445588; font-weight: bold">int</span> width<span style="font-weight: bold">,</span> <span style="color: #445588; font-weight: bold">int</span> height<span style="font-weight: bold">,</span>
            Color color<span style="font-weight: bold">,</span> <span style="color: #445588; font-weight: bold">int</span> numBoxes<span style="font-weight: bold">)</span> <span style="font-weight: bold">{</span>
        <span style="font-weight: bold">super(</span>title<span style="font-weight: bold">);</span>
        
        <span style="font-weight: bold">this.</span><span style="color: #008080">width</span> <span style="font-weight: bold">=</span> width<span style="font-weight: bold">;</span>
        <span style="font-weight: bold">this.</span><span style="color: #008080">height</span> <span style="font-weight: bold">=</span> height<span style="font-weight: bold">;</span>
        <span style="font-weight: bold">this.</span><span style="color: #008080">color</span> <span style="font-weight: bold">=</span> color<span style="font-weight: bold">;</span>
        <span style="font-weight: bold">this.</span><span style="color: #008080">numBoxes</span> <span style="font-weight: bold">=</span> numBoxes<span style="font-weight: bold">;</span>
        mousePressed <span style="font-weight: bold">=</span> <span style="font-weight: bold">false;</span>
        
        setDefaultCloseOperation<span style="font-weight: bold">(</span>EXIT_ON_CLOSE<span style="font-weight: bold">);</span>
        add<span style="font-weight: bold">(new</span> FancyPanel<span style="font-weight: bold">());</span>
        pack<span style="font-weight: bold">();</span>
        setVisible<span style="font-weight: bold">(true);</span>
    <span style="font-weight: bold">}</span>

    <span style="font-weight: bold">private</span> <span style="font-weight: bold">class</span> <span style="color: #445588; font-weight: bold">mousePresser</span> <span style="font-weight: bold">extends</span> MouseAdapter <span style="font-weight: bold">{</span>
        
        @Override
        <span style="font-weight: bold">public</span> <span style="color: #445588; font-weight: bold">void</span> <span style="color: #990000; font-weight: bold">mousePressed</span><span style="font-weight: bold">(</span>MouseEvent e<span style="font-weight: bold">)</span> <span style="font-weight: bold">{</span>
            mousePressed <span style="font-weight: bold">=</span> <span style="font-weight: bold">true;</span>
            repaint<span style="font-weight: bold">();</span>
        <span style="font-weight: bold">}</span>
        
        @Override
        <span style="font-weight: bold">public</span> <span style="color: #445588; font-weight: bold">void</span> <span style="color: #990000; font-weight: bold">mouseReleased</span><span style="font-weight: bold">(</span>MouseEvent e<span style="font-weight: bold">)</span> <span style="font-weight: bold">{</span>
            mousePressed <span style="font-weight: bold">=</span> <span style="font-weight: bold">false;</span>
            repaint<span style="font-weight: bold">();</span>
        <span style="font-weight: bold">}</span>
    <span style="font-weight: bold">}</span>
    
    <span style="font-weight: bold">private</span> <span style="font-weight: bold">class</span> <span style="color: #445588; font-weight: bold">FancyPanel</span> <span style="font-weight: bold">extends</span> JPanel <span style="font-weight: bold">{</span>
        
        <span style="font-weight: bold">public</span> <span style="color: #990000; font-weight: bold">FancyPanel</span><span style="font-weight: bold">()</span> <span style="font-weight: bold">{</span>
            addMouseListener<span style="font-weight: bold">(new</span> mousePresser<span style="font-weight: bold">());</span>
            setPreferredSize<span style="font-weight: bold">(new</span> Dimension<span style="font-weight: bold">(</span>width<span style="font-weight: bold">,</span> height<span style="font-weight: bold">));</span>
        <span style="font-weight: bold">}</span>
        
        @Override
        <span style="font-weight: bold">public</span> <span style="color: #445588; font-weight: bold">void</span> <span style="color: #990000; font-weight: bold">paint</span><span style="font-weight: bold">(</span>Graphics g<span style="font-weight: bold">)</span> <span style="font-weight: bold">{</span>
            <span style="color: #445588; font-weight: bold">int</span> w <span style="font-weight: bold">=</span> width <span style="font-weight: bold">/</span> numBoxes<span style="font-weight: bold">;</span>
            <span style="color: #445588; font-weight: bold">int</span> h <span style="font-weight: bold">=</span> height <span style="font-weight: bold">/</span> numBoxes<span style="font-weight: bold">;</span>
            Color c <span style="font-weight: bold">=</span> color<span style="font-weight: bold">;</span>
            
            <span style="font-weight: bold">for</span> <span style="font-weight: bold">(</span><span style="color: #445588; font-weight: bold">int</span> i <span style="font-weight: bold">=</span> <span style="color: #009999">0</span><span style="font-weight: bold">;</span> i <span style="font-weight: bold">&lt;</span> numBoxes<span style="font-weight: bold">;</span> i<span style="font-weight: bold">++)</span> <span style="font-weight: bold">{</span>
                g<span style="font-weight: bold">.</span><span style="color: #008080">setColor</span><span style="font-weight: bold">(</span>c<span style="font-weight: bold">);</span>
                g<span style="font-weight: bold">.</span><span style="color: #008080">fillRect</span><span style="font-weight: bold">(</span>w  <span style="font-weight: bold">/</span> <span style="color: #009999">2</span> <span style="font-weight: bold">*</span> i<span style="font-weight: bold">,</span> h <span style="font-weight: bold">/</span> <span style="color: #009999">2</span> <span style="font-weight: bold">*</span> i<span style="font-weight: bold">,</span>
                        width <span style="font-weight: bold">-</span> w <span style="font-weight: bold">*</span> i<span style="font-weight: bold">,</span> height <span style="font-weight: bold">-</span> h <span style="font-weight: bold">*</span> i<span style="font-weight: bold">);</span>
                
                <span style="font-weight: bold">if</span> <span style="font-weight: bold">(</span>mousePressed<span style="font-weight: bold">)</span> <span style="font-weight: bold">{</span>
                    c <span style="font-weight: bold">=</span> c<span style="font-weight: bold">.</span><span style="color: #008080">brighter</span><span style="font-weight: bold">();</span>
                <span style="font-weight: bold">}</span> <span style="font-weight: bold">else</span> <span style="font-weight: bold">{</span>
                    c <span style="font-weight: bold">=</span> c<span style="font-weight: bold">.</span><span style="color: #008080">darker</span><span style="font-weight: bold">();</span>
                <span style="font-weight: bold">}</span>
            <span style="font-weight: bold">}</span>
        <span style="font-weight: bold">}</span>
    <span style="font-weight: bold">}</span>
    
    <span style="font-weight: bold">public</span> <span style="font-weight: bold">static</span> <span style="color: #445588; font-weight: bold">void</span> <span style="color: #990000; font-weight: bold">main</span><span style="font-weight: bold">(</span>String<span style="font-weight: bold">[]</span> args<span style="font-weight: bold">)</span> <span style="font-weight: bold">{</span>
        <span style="font-weight: bold">new</span> FancyFrame<span style="font-weight: bold">(</span><span style="color: #bb8844">&quot;Fancy!&quot;</span><span style="font-weight: bold">,</span> <span style="color: #009999">320</span><span style="font-weight: bold">,</span> <span style="color: #009999">240</span><span style="font-weight: bold">,</span>
                <span style="font-weight: bold">new</span> Color<span style="font-weight: bold">(</span><span style="color: #009999">50</span><span style="font-weight: bold">,</span> <span style="color: #009999">80</span><span style="font-weight: bold">,</span> <span style="color: #009999">120</span><span style="font-weight: bold">),</span> <span style="color: #009999">5</span><span style="font-weight: bold">);</span>
    <span style="font-weight: bold">}</span>
<span style="font-weight: bold">}</span>
</pre>
</div>
<p>Notice the calls to <span class="code" style="font-family:monospace;">repaint</span> in MousePresser’s methods. This is the proper way to request that the window be redrawn, rather than calling the <span class="code" style="font-family:monospace;">paint</span> method directly.</p>
<p>There’s another type of nested class you will often see if you look at Java GUI programming examples. (I prefer the structure above, because I think it’s easier to understand, but this is an alternative you should be aware of.) In the code below, the MousePresser class definition has been moved to the place where <span class="code" style="font-family:monospace;">addMouseListener</span> is called. And the name “MousePresser” is gone—this is an example of an <em>anonymous inner class</em>. This pattern is typically used when the class definition is short, and it’s only needed in one place.</p>
<div class="highlight" style="background: #ffffff">
<pre style="font-family:monospace;"><span></span><span style="font-weight: bold">public</span> <span style="font-weight: bold">class</span> <span style="color: #445588; font-weight: bold">FancyFrame</span> <span style="font-weight: bold">extends</span> JFrame <span style="font-weight: bold">{</span>

 <span style="font-weight: bold">...</span><span style="color: #008080">private</span> <span style="font-weight: bold">class</span> <span style="color: #445588; font-weight: bold">FancyPanel</span> <span style="font-weight: bold">extends</span> JPanel <span style="font-weight: bold">{</span>
    
        <span style="font-weight: bold">public</span> <span style="color: #990000; font-weight: bold">FancyPanel</span><span style="font-weight: bold">()</span> <span style="font-weight: bold">{</span>
            
            addMouseListener<span style="font-weight: bold">(new</span> MouseAdapter<span style="font-weight: bold">(){</span>
                
                @Override
                <span style="font-weight: bold">public</span> <span style="color: #445588; font-weight: bold">void</span> <span style="color: #990000; font-weight: bold">mousePressed</span><span style="font-weight: bold">(</span>MouseEvent e<span style="font-weight: bold">)</span> <span style="font-weight: bold">{</span>
                    mousePressed <span style="font-weight: bold">=</span> <span style="font-weight: bold">true;</span>
                    repaint<span style="font-weight: bold">();</span>
                <span style="font-weight: bold">}</span>
                
                @Override
                <span style="font-weight: bold">public</span> <span style="color: #445588; font-weight: bold">void</span> <span style="color: #990000; font-weight: bold">mouseReleased</span><span style="font-weight: bold">(</span>MouseEvent e<span style="font-weight: bold">)</span> <span style="font-weight: bold">{</span>
                    mousePressed <span style="font-weight: bold">=</span> <span style="font-weight: bold">false;</span>
                    repaint<span style="font-weight: bold">();</span>
                <span style="font-weight: bold">}</span>
            <span style="font-weight: bold">});</span>
            
            setPreferredSize<span style="font-weight: bold">(new</span> Dimension<span style="font-weight: bold">(</span>width<span style="font-weight: bold">,</span> height<span style="font-weight: bold">));</span>
        <span style="font-weight: bold">}</span>
        
        @Override
        <span style="font-weight: bold">public</span> <span style="color: #445588; font-weight: bold">void</span> <span style="color: #990000; font-weight: bold">paint</span><span style="font-weight: bold">(</span>Graphics g<span style="font-weight: bold">)</span> <span style="font-weight: bold">{...</span>
</pre>
</div>
</body>
</html>

